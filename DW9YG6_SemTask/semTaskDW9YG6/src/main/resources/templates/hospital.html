<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
<link rel="stylesheet" href="css/style.css" th:href="@{/css/style.css}">
<script type="text/javascript" src="../static/js/jquery-3.5.1.js"
	th:src="@{/js/jquery-3.5.1.js}"></script>
<script type="text/javascript" src="../static/js/script.js"
	th:src="@{/js/script.js}"></script>
<title>Hospital rooms</title>
</head>
<body>
	<div class="header">
		<table class="center">
			<tr>

				<td rowspan="3"><a href="/"><img
						th:src="@{/img/hospital_main.jpg}"
						src="../static/img/hospital_main.jpg" height="150px" /></a></td>
				<td><h1>Imaginary Hospital</h1></td>
			<tr>
				<td><a href="/list">Administer rooms</a></td>
			</tr>
			<tr>
				<td>
					<div sec:authorize="hasRole('ADMIN')">
						<form th:action="@{/logout}" method="post">
							<button type="submit">Log Out</button>
						</form>
					</div>
				</td>

			</tr>
		</table>
	</div>

	<div class="content">
		<table class="center" id="hospitalTable" border="5px solid white">
			<thead>
				<tr>
					<th>Number</th>
					<th>Floor</th>
					<th class="hidden">Patient</th>
					<th>Doctor</th>
					<th></th>
					<th></th>
					<th></th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="hospital : ${hospital}">
					<td th:text="${hospital.roomID}"></td>
					<td th:text="${hospital.floor}"></td>
					<td class="hidden" th:text="${hospital.patientName}"></td>
					<td th:text="${hospital.doctorName}"></td>
					<td>
						<form th:action="@{/update/{id}(id=${hospital.roomID})}">
							<button type="submit" id="update" value="Update">Update</button>
						</form>
					</td>
					<td>
						<form th:action="@{/delete/{id}(id=${hospital.roomID})}">
							<button type="submit" id="delete" value="Delete">Delete</button>
						</form>
					</td>
					<td>
						<form th:action="@{/display/{id}(id=${hospital.roomID})}">
							<button type="submit" id="display" value="Display">Display
								Details</button>
						</form>
					</td>

				</tr>
			</tbody>
		</table>

		<div class="buttonDiv">
			<form th:action="@{/new}">
				<button type="submit" id="new" value="new">Add new room</button>
			</form>
		</div>

	</div>
	<div class="ani">E. Vadon</div>
</body>
</html>
